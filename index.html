<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MyVMK Monthly Prize Tracker</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="container">
    <div class="header-row">
      <div>
        <h1>MyVMK Monthly Prize Tracker</h1>
        <p class="subtle">
          Local tracker for monthly Keys + SITS. All data is stored in your browser - if you clear your browser data, you will lose your data.
        </p>
      </div>

      <div class="header-actions">
        <button id="themeToggle" class="theme-toggle">
          <span id="themeIcon">ðŸŒ™</span>
          <span id="themeLabel">Dark</span>
        </button>
        <button id="exportBtn" class="btn">Export</button>
        <label class="btn btn-secondary">
          Import
          <input id="importFile" type="file" accept="application/json" hidden />
        </label>
        <button id="resetBtn" class="btn btn-danger">Reset Local Data</button>
      </div>
    </div>

    <div class="month-tabs" id="monthTabs"></div>

    <div class="bar bar-2col">
      <div class="field">
        <label for="systemSelect">Chests/SITS</label>
        <select id="systemSelect">
          <option value="keys">Chest Keys</option>
          <option value="sits">SITS</option>
        </select>
      </div>

      <div class="field">
        <label for="dateInput">Date</label>
        <input id="dateInput" type="date" />
      </div>
    </div>
  </header>

  <main class="container grid">
    <section class="card span-2" id="quickAddCard">
      <h2>Quick Add</h2>
      <p class="subtle" id="quickAddHint"></p>

      <div id="keyColorRow" style="margin-bottom: 14px;">
        <label class="field-label">Key Color</label>
        <div class="key-color-buttons">
          <button type="button" class="key-color-btn bronze active" data-color="bronze">Bronze</button>
          <button type="button" class="key-color-btn silver" data-color="silver">Silver</button>
          <button type="button" class="key-color-btn gold" data-color="gold">Gold</button>
        </div>
      </div>

      <div id="quickButtons" class="button-grid"></div>

      <div class="divider"></div>

      <div id="creditsRow">
        <label class="field-label">Add Credits</label>
        <div class="credits-quick-row">
          <button type="button" class="btn btn-secondary credit-quick-btn" data-credits="250">+250</button>
          <button type="button" class="btn btn-secondary credit-quick-btn" data-credits="300">+300</button>
          <button type="button" class="btn btn-secondary credit-quick-btn" data-credits="500">+500</button>
          <button type="button" class="btn btn-secondary credit-quick-btn" data-credits="750">+750</button>
        </div>
        <div class="credits-manual-row">
          <div class="field">
            <label for="creditsAmount">Custom Amount</label>
            <input id="creditsAmount" type="number" min="0" step="1" placeholder="e.g., 1000" />
          </div>
          <button id="addCreditsBtn" class="btn">Add Credits</button>
        </div>
      </div>

      <div class="ash-row">
        <button id="addAshBtn" class="btn btn-secondary">Add Ash</button>
      </div>

      <div class="small subtle">
        Tip: Your history is stored, and monthly prize updates wonâ€™t overwrite your past months.
      </div>
    </section>

    <section class="card">
      <h2>Chest Keys Summary</h2>
      <div id="summaryKeys" class="summary"></div>
    </section>

    <section class="card">
      <h2>SITS Summary</h2>
      <div id="summarySits" class="summary"></div>
    </section>

    <section class="card span-2" id="eventLogCard">
      <div class="row-between">
        <h2>Event Log (Selected Month)</h2>
        <div class="inline">
          <button id="deleteMonthBtn" class="btn btn-danger btn-small">Delete Selected Month Only</button>
        </div>
      </div>

      <div class="table-wrap">
        <table class="table" id="eventsTable">
          <thead>
            <tr>
              <th>Date</th>
              <th>System</th>
              <th>Key</th>
              <th>Result</th>
              <th>Prize / Credits</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="eventsTbody"></tbody>
        </table>
      </div>
    </section>

    <section class="card span-2">
      <h2>How monthly prize updates work</h2>
      <ol class="subtle">
        <li>bsims updates <code>prizeConfig.js</code> each month with the updated monthâ€™s prizes.</li>
        <li>When you reload the page, you will see a new month section with updated prize buttons.</li>
        <li>Historical entries stay consistent.</li>
      </ol>
    </section>
  </main>

  <footer class="container footer subtle">
    <div>
      No accounts. No storage. Export your data to avoid losing it.
    </div>
  </footer>

  <script src="./prizeConfig.js"></script>
  <script src="./app.js"></script>
</body>
</html>
